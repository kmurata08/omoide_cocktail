<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>vibrantjs form</title>
</head>
<body>
    <input type="file" id="target">
</body>
<script src="./Vibrant.min.js"></script>
<script>
    document.getElementById("target").addEventListener("change", function() {
        var file = this.files[0];
        var blobUrl = window.URL.createObjectURL(file); // Blob URLの作成
        document.body.innerHTML += '<a href="' + blobUrl + '" target="_blank"><img src="' + blobUrl + '"></a>' ;

        var img = document.createElement('img');
        img.setAttribute('src', blobUrl);
        img.addEventListener('load', function() {
            var vibrant = new Vibrant(img);
            var swatches = vibrant.swatches()
            for (var swatch in swatches) {
                if (swatches.hasOwnProperty(swatch) && swatches[swatch]) {
                    console.log(swatch, swatches[swatch].getHex());
                }
            }
        });
    });
</script>
</html>
